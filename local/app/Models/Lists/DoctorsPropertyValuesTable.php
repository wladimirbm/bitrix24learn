<?php

namespace Models\Lists;

use Bitrix\Main\Entity\ReferenceField;
//use Bitrix\Main\Entity\OneToMany;
use Bitrix\Main\ORM\Query\Join;
use Bitrix\Main\ORM\Fields\Relations\Reference;
use Bitrix\Main\ORM\Fields\Relations\OneToMany;

use Models\AbstractIblockPropertyValuesTable; 

class DoctorsPropertyValuesTable extends AbstractIblockPropertyValuesTable
{
    public const IBLOCK_ID = 16;

    public static function getMap(): array
    {
        $map = [
            'DUTY' => new ReferenceField(
                'DUTY', 
                DoctorDutyPropertyValuesTable::class, 
                ['=this.DUTY_ID' => 'ref.IBLOCK_ELEMENT_ID']
            ),
            /*'PROCEDURES' => new ReferenceField(
                'PROCEDURES', 
                DoctorProceduresPropertyValuesTable::class, 
                ['=this.PROCEDURES_ID' => 'ref.IBLOCK_ELEMENT_ID']
            ),*/
            'PROCEDURES_ID' => (new OneToMany(
                'PROCEDURES_ID', DoctorProceduresPropertyValuesTable::class, 'IBLOCK_ELEMENT_ID'))
				->configureJoinType(Join::TYPE_INNER),
        ];

        return parent::getMap() + $map; // TODO: Change the autogenerated stub

    } 
}
